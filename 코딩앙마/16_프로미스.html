<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>프로미스</title>
</head>
<body>
  <pre>
    const pr = new Promise((resolve,reject) => {
      //code
    });
    resolve = 성공
    reject = 실패

    어떤 일이 완료되고 실행되는 함수를 callback 함수

    new Promise(), resolve 와 reject, catch 와 finally,

    Promise.all 과 Promise.race

  </pre>

  <script>
    // //판매자 코드
    // const pr = new Promise((resolve, reject) => {
    //   setTimeout(()=>{
    //     resolve('OK');
    //     // reject(new Error('error...'));
    //   },3000);
    // });

    // //소비자 코드
    // pr.then(
    //   function(result){}
    // ).catch(
    //   function(err){}
    // ).finally(
    //   function(){
    //     console.log('====주문 끝====')
    //   }
    // );

    // const pr = new Promise((resolve,reject)=>{
    //   setTimeout(()=>{
    //     // resolve('OK');
    //     reject(new Error('error...'));
    //   },1000);
    // });
    // console.log('시작');
    // pr.then((result)=>{//성공시
    //   console.log(result)
    // }).catch((err)=>{//실패시
    //   console.log(err)
    // }).finally(()=>{
    //   console.log('끝') //항상 뜸
    // });
      
    //콜백지옥
    //1번주문
    // const f1 = (callback)=>{
    //   setTimeout(()=>{
    //     console.log('1번 주문 완료');
    //     callback();
    //   },1000);
    // }
    // //2번주문
    // const f2 = (callback)=>{
    //   setTimeout(()=>{
    //     console.log('2번 주문 완료');
    //     callback();
    //   },2000);
    // }
    // //3번주문
    // const f3 = (callback)=>{
    //   setTimeout(()=>{
    //     console.log('3번 주문 완료');
    //     callback();
    //   },1000);
    // }
    // console.log('시작')
    // f1(()=>{
    //   f2(()=>{
    //     f3(()=>{
    //       console.log('끝')
    //     })
    //   })
    // });

    // const f1 = ()=>{
    //   return new Promise((res,rej)=>{
    //     setTimeout(()=>{
    //       res('1번 주문 완료')
    //     },1000);
    //   });
    // }
    // const f2 = (message)=>{
    //   console.log(message)
    //   return new Promise((res,rej)=>{
    //     setTimeout(()=>{
    //       res('2번 주문 완료')
    //       // rej(new Error('error...'))
    //     },2000);
    //   });
    // }
    // const f3 = (message)=>{
    //   console.log(message)
    //   return new Promise((res,rej)=>{
    //     setTimeout(()=>{
    //       res('3번 주문 완료')
    //     },1000);
    //   });
    // }
    // //프로미스 체이닝
    // console.log('시작')
    // f1().then((res) => f2(res))
    //   .then((res) => f3(res))
    //   .then((res) => console.log(res))
    //   .catch((err) => console.log(err))
    //   .finally(() => console.log('끝'))

    //promise.all 
    // Promise.all([f1(),f2(),f3()]).then(res => {
    //   console.log(res)
    // });
    //promise.race //이미지 로딩시 사용 
    // Promise.all([f1(),f2(),f3()]).then(res => {
    //   console.log(res)
    // });

  </script>
</body>
</html>